<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
 <title>21M.051 Interval Worksheet</title>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <!-- midi.js package -->
 <script src="/m21j/ext/midijs/js/MIDI/AudioDetect.js" type="text/javascript"></script>
 <script src="/m21j/ext/midijs/js/MIDI/LoadPlugin.js" type="text/javascript"></script>
 <script src="/m21j/ext/midijs/js/MIDI/Plugin.js" type="text/javascript"></script>
 <script src="/m21j/ext/midijs/js/MIDI/Player.js" type="text/javascript"></script>
 <script src="/m21j/ext/midijs/js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
 <script src="/m21j/ext/midijs/js/Window/DOMLoader.script.js" type="text/javascript"></script>
 <!-- extras -->
 <script src="/m21j/ext/midijs/inc/Base64.js" type="text/javascript"></script>
 <script src="/m21j/ext/midijs/inc/base64binary.js" type="text/javascript"></script>
 <!-- vexflow -->
 <script src='http://code.jquery.com/jquery-latest.js'></script>
 <script src='http://www.vexflow.com/support/vexflow-min.js'></script>

 <!-- jQuery UI -->
 <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js" type="text/javascript" ></script>

 <!-- music21j -->
 <script src="/m21j/music21j.js" type="text/javascript"></script>
 <script src="/m21j/music21theory.js" type="text/javascript"></script>

 <link rel="stylesheet" href="http://web.mit.edu/music21/doc/_static/m21.css" type="text/css" />
 <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700" type="text/css" />

<style>
.lightInput { border: 1px gray dotted;
			  background-color: #ffffcc;
			   }
.unanswered { background-color: #ffffbb; 
			  opacity: .7;
}
.correct    { background-color: #bbffbb; }
.incorrect  { background-color: #ffbbbb; }

</style>

</head>
<body>
<script type="text/javascript">
var startTime = 0;

window.onload = function () {
	MIDI.loadPlugin({
		soundfontUrl: "/m21j/ext/midijs/soundfont/",
		instrument: "acoustic_grand_piano",
		callback: function() {
			M21Theory.playMotto();
			startTime = new Date().getTime();
		}
	});
	
	var intervalRenderer = new M21Theory.IntervalTest();

	intervalRenderer.totalInts = 15;
	intervalRenderer.disallowDoubleAccs = false;
	intervalRenderer.minInterval = -11;
	intervalRenderer.maxInterval = 12;
	
	intervalRenderer.allowableImperfectSpecifiers = ["A","d"];
	intervalRenderer.allowablePerfectSpecifiers = ["A","d","P"];
	intervalRenderer.studentFeedback = false;

	var testBank = new M21Theory.TestBank();
	testBank.allTests.push(intervalRenderer);
	testBank.render();

};

function submitCorrect() {
	var textComments = $("#commentTextArea").val();
	if (studentName.last == "") {
		alert("You are submitting without a last name! you will not get credit; fill form and submit again...");
	}
	var endTime = Math.floor((new Date().getTime() - startTime)/1000)
	$.ajax({
		type: "GET",
		url: "http://ciconia.mit.edu/m21j/intervalsResponse.cgi",
		data: { comments: textComments,
				first: studentName.first,
				last: studentName.last,
				totalTime: endTime
				},
		dataType: 'json',
		success: function (data) { alert(data.reply) },
		error: function (data, errorThrown) { 
			alert("Got a problem -- print this page as a PDF and email it to cuthbert@mit.edu: " + data) }
		});		
}

</script>
    <div class="related">
		<ul><li><a href="#">21m.051 Cuthbert</a> &raquo; <a href="#">Intervals</a></li></ul>
	</div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapperee">
          <div class="body" style="height: auto !important;" id="testBank">
		  </div>
		</div>
      </div>
    </div>
</div>



</body>
</html>